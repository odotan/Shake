<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <script src="code/outsource/jquery-3.6.1.min.js"></script>
    <script src="code/outsource/zxing-0.19.1.min.js" charset="utf-8"></script>
    <script src="code/outsource/qrious.min.js" charset="utf-8"></script>
    <script src="code/outsource/lzstring-1.4.4.js" charset="utf-8"></script>
    <script src="code/lenna.js" charset="utf-8"></script>
    <script src="code/master.js" charset="utf-8"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Send and Recieve | POC</title>
  </head>

  <body style="position: absolute;inset: 0;margin: 10px;">
    <center>
      <fieldset style="height: 83px;line-height: 20px;position: absolute;top: 0;right: 0;left: 0;margin: auto;text-align:left;">
        <legend>
          <b>Send, or recieve?</b>
        </legend>
        <input type="radio" name="operation" id="send" checked>
        <label for="send">Send</label>
        <input type="radio" name="operation" id="recieve">
        <label for="recieve">Recieve</label>
        <br />
        <label for="sourceSelect">Camera: </label>
        <select id="sourceSelect" style="width:100px;"></select>
        <br />
        <button type="button" id="start" style="margin-top:5px">Start</button>
      </fieldset>
      <br />
      <fieldset operation style="position: absolute;top: 115px;right: 0;left: 0;margin: auto;height: calc(100% - 135px);">
        <legend>
          <b>Operation: <span>Not started</span></b>
        </legend>
        <div op="send" style="display:none;">
          <div class="qr_area" style="margin-top:15px;">
            <img id="qr_send" style="background:whitesmoke; position:absolute; top:0;right:0;left:0; margin:auto;" />
          </div>
          <div class="feedback">Waiting for the <code>Ready</code> QR code.</div>
        </div>
        <div op="recieve" style="display:none;">
          <div class="qr_area" style="margin-top:15px;">
            <img id="qr_recieve" style="background:whitesmoke; position:absolute; top:0;right:0;left:0; margin:auto;" />
          </div>
          <div class="feedback">Waiting for reading <code>Ready</code> QR code.</div>
        </div>
      </fieldset>
    </center>
    <div class="result" style="position: absolute;inset: 0;margin: auto;background: rgb(245 245 245 / 50%);" hidden>
      <img src="" id="result" style="position: absolute;top:0;right:0;left:0;margin: auto;max-width: 90%;">
    </div>
    <video id="video" style="position: fixed;z-index: 1; opacity:0.5;bottom: 20px;right: 20px;margin: auto;height: 18%;width: auto;opacity:0.9;">
    </video>
    <style media="screen">
      fieldset[operation].full {
        top: 0 !important;
        bottom: 0 !important;
        right: 0 !important;
        left: 0 !important;
        margin: auto !important;
        height: calc(100% - 20px) !important;
        background: white !important;
        box-shadow: 0px 0px 0px 20px white;
      }
    </style>
  </body>

</html>
